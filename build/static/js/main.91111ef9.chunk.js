(this["webpackJsonpmy-money"]=this["webpackJsonpmy-money"]||[]).push([[0],{28:function(e,t,a){e.exports=a(57)},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a.n(c),u=a(8),o=a(1),s=function(){return r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{className:"navbar-brand",to:"/"},"MyMoney")))},i=a(2),m=a.n(i),d=a(7),p=a(5),E=a(11),f=a(10),v=a.n(f),b={loading:!1,data:{}},h=function(e,t){return"REQUEST"===t.type?Object(E.a)({},e,{loading:!0}):"SUCCESS"===t.type?Object(E.a)({},e,{loading:!1,data:t.data}):e},y=function(e){return{useGet:function(t){var a=Object(n.useReducer)(h,b),r=Object(p.a)(a,2),c=r[0],l=r[1],u=function(){var a=Object(d.a)(m.a.mark((function a(){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l({type:"REQUEST"}),a.next=3,v.a.get(e+t+".json");case 3:n=a.sent,l({type:"SUCCESS",data:n.data});case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[t]),Object(E.a)({},c,{refetch:u})},usePost:function(t){var a=Object(n.useReducer)(h,b),r=Object(p.a)(a,2),c=r[0],l=r[1];return[c,function(){var a=Object(d.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l({type:"REQUEST"}),a.next=3,v.a.post(e+t+".json",n);case 3:r=a.sent,l({type:"SUCCESS",data:r.data});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()]},useDelete:function(){var t=Object(n.useReducer)(h,b),a=Object(p.a)(t,2),r=a[0],c=a[1];return[r,function(){var t=Object(d.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"REQUEST"}),t.next=3,v.a.delete(e+a+".json");case 3:c({type:"SUCCESS"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]},usePatch:function(){var t=Object(n.useReducer)(h,b),a=Object(p.a)(t,2),r=a[0],c=a[1];return[r,function(){var t=Object(d.a)(m.a.mark((function t(a,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"REQUEST"}),t.next=3,v.a.patch(e+a+".json",n);case 3:c({type:"SUCCESS"});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()]}}},j=y("https://mymoney-devpleno-sandre.firebaseio.com/").useGet,O=function(){var e=j("meses");return e.loading?r.a.createElement("span",null,"Carregando..."):Object.keys(e.data).length>0?r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"M\xeas"),r.a.createElement("th",null,"Previs\xe3o entrada"),r.a.createElement("th",null,"Entrada"),r.a.createElement("th",null,"Precis\xe3o de sa\xedda"),r.a.createElement("th",null,"Sa\xedda"))),r.a.createElement("tbody",null,Object.keys(e.data).map((function(t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(u.b,{to:"/movimentacoes/".concat(t)},t)),r.a.createElement("td",null,e.data[t].previsao_entrada),r.a.createElement("td",null,e.data[t].entradas),r.a.createElement("td",null,e.data[t].previsao_saida),r.a.createElement("td",null,e.data[t].saidas))})))):null},S=function(){for(var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(""),c=Object(p.a)(a,2),l=c[0],u=c[1],s=[],i=[],m=2019;m<=2022;m++)s.push(m);for(var d=1;d<=12;d++)i.push(d);return""!==l?r.a.createElement(o.a,{to:"/movimentacoes/"+l}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Adicionar m\xeas"),r.a.createElement("select",{ref:e},s.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("select",{ref:t},i.map((function(e){return e<10?"0"+e:e})).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("button",{onClick:function(){u(e.current.value+"- "+t.current.value)}},"Adicionar m\xeas"))},g=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(S,null),r.a.createElement(O,null))},x=y("https://mymoney-devpleno-sandre.firebaseio.com/"),k=x.useGet,w=x.usePost,C=x.useDelete,N=x.usePatch,R=function(e){var t=e.match,a=k("movimentacoes/".concat(t.params.data)),c=k("meses/".concat(t.params.data)),l=N(),u=Object(p.a)(l,2),o=(u[0],u[1]),s=w("movimentacoes/".concat(t.params.data)),i=Object(p.a)(s,2),E=(i[0],i[1]),f=C(),v=Object(p.a)(f,2),b=(v[0],v[1]),h=Object(n.useState)(""),y=Object(p.a)(h,2),j=y[0],O=y[1],S=Object(n.useState)(""),g=Object(p.a)(S,2),x=g[0],R=g[1],U=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(isNaN(x)||!(x.search(/^[-]?\d+(\.)?\d+?$/)>=0)){e.next=9;break}return e.next=3,E({descricao:j,valor:parseFloat(x)});case 3:return O(""),R(0),a.refetch(),e.next=8,P(1e3);case 8:c.refetch();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){return new Promise((function(t){return setTimeout(t,e)}))},T=function(){var e=Object(d.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("movimentacoes/".concat(t.params.data,"/").concat(n));case 2:return a.refetch(),e.next=5,P(1e3);case 5:c.refetch();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Movimenta\xe7\xf5es"),!c.losding&&c.data&&r.a.createElement("div",null,r.a.createElement("span",null,"Previs\xe3o entrada: ",c.data.previsao_entrada," "),r.a.createElement("input",{type:"text",onBlur:function(e){o("meses/".concat(t.params.data),{previsao_entrada:e.target.value})}})," / Previs\xe3o sa\xedda: ",c.data.previsao_saida," ",r.a.createElement("input",{type:"text",onBlur:function(e){o("meses/".concat(t.params.data),{previsao_saida:e.target.value})}}),r.a.createElement("br",null),"Entradas: ",c.data.entradas," / Sa\xeddas ",c.data.saidas),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Valor"))),r.a.createElement("tbody",null,a.data&&Object.keys(a.data).map((function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,a.data[e].descricao),r.a.createElement("td",{className:"text-right"},a.data[e].valor," "," ",r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return T(e)}},"-")))})),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"text",value:j,onChange:function(e){O(e.target.value)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",value:x,onChange:function(e){R(e.target.value)}}),r.a.createElement("button",{className:"btn btn-success",onClick:U},"+"))))))};var U=function(){return r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(s,null),r.a.createElement(o.b,{path:"/",exact:!0,component:g}),r.a.createElement(o.b,{path:"/movimentacoes/:data",component:R})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(56);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.91111ef9.chunk.js.map